#module load mkl

fileName=main

rm *.o $fileName

#compile
#Sacado
mpicxx -c -O3 -fPIC -Wwrite-strings -I/$PETSC_DIR/$PETSC_ARCH/include -I/$PETSC_DIR/include -I$PETIGA_DIR/$PETSC_ARCH/include -I$PETIGA_DIR/include -I$TRILINOS_DIR/include/ $fileName.cc boundaryConditions.cc loadTimeStep.cc convergenceTest.cc setup.cc defineParameters.cc ../../../include/init.cc ../../../include/fields.cc ../../../include/evaluators.cc ../../../src/configurationalForces/model.cc ../../../src/configurationalForces/output.cc ../../../src/configurationalForces/initialConditions.cc
mpicxx -o $fileName $fileName.o boundaryConditions.o loadTimeStep.o convergenceTest.o setup.o defineParameters.o init.o fields.o evaluators.o model.o output.o initialConditions.o -Wl,-rpath,$PETIGA_DIR/$PETSC_ARCH/lib -L$PETIGA_DIR/$PETSC_ARCH/lib -lpetiga -Wl,-rpath,$PETSC_DIR/$PETSC_ARCH/lib -L$PETSC_DIR/$PETSC_ARCH/lib  -lpetsc -Wl,-rpath,$PETSC_DIR/$PETSC_ARCH/lib $TRILINOS_DIR/lib/libsacado.so

#Adept
#mpicxx -c -O3 -fPIC -DADEPT_RECORDING_PAUSABLE -Wall -Wwrite-strings -I/$PETSC_DIR/$PETSC_ARCH/include -I/$PETSC_DIR/include -I$PETIGA_DIR/$PETSC_ARCH/include -I$PETIGA_DIR/include -I/nfs/mcfs_home/rudraa/Public/adept-1.0/include $fileName.cc
#mpicxx -o $fileName $fileName.o -Wl,-rpath,$PETIGA_DIR/$PETSC_ARCH/lib -L$PETIGA_DIR/$PETSC_ARCH/lib -lpetiga -Wl,-rpath,$PETSC_DIR/$PETSC_ARCH/lib -L$PETSC_DIR/$PETSC_ARCH/lib  -lpetsc -Wl,-rpath,$PETSC_DIR/$PETSC_ARCH/lib /nfs/mcfs_home/rudraa/Public/adept-1.0/lib/libadept.a
